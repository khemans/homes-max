import { NextRequest, NextResponse } from 'next/server';

// Mock MLS data with Denver metro area properties
const mockMLSData = [
  // Original properties
  {
    address: "123 Main St",
    city: "Denver",
    state: "CO",
    zip: "80202",
    price: "$500,000",
    beds: 3,
    baths: 2,
    sqft: 1800,
    status: "Active",
    mlsId: "MLS123456",
  },
  {
    address: "456 Oak Ave",
    city: "Aurora",
    state: "CO",
    zip: "80012",
    price: "$750,000",
    beds: 4,
    baths: 3,
    sqft: 2500,
    status: "Pending",
    mlsId: "MLS654321",
  },
  // Denver metro area properties
  {
    address: "1234 Larimer St",
    city: "Denver",
    state: "CO",
    zip: "80202",
    price: "$425,000",
    beds: 2,
    baths: 2,
    sqft: 1200,
    status: "Active",
    mlsId: "MLS100001",
  },
  {
    address: "5678 Colfax Ave",
    city: "Lakewood",
    state: "CO",
    zip: "80214",
    price: "$675,000",
    beds: 3,
    baths: 2,
    sqft: 1850,
    status: "Active",
    mlsId: "MLS100002",
  },
  {
    address: "9012 Broadway",
    city: "Englewood",
    state: "CO",
    zip: "80113",
    price: "$890,000",
    beds: 4,
    baths: 3,
    sqft: 2800,
    status: "Active",
    mlsId: "MLS100003",
  },
  {
    address: "3456 Speer Blvd",
    city: "Denver",
    state: "CO",
    zip: "80211",
    price: "$550,000",
    beds: 2,
    baths: 2,
    sqft: 1400,
    status: "Pending",
    mlsId: "MLS100004",
  },
  {
    address: "7890 Alameda Ave",
    city: "Lakewood",
    state: "CO",
    zip: "80226",
    price: "$725,000",
    beds: 3,
    baths: 2,
    sqft: 1950,
    status: "Active",
    mlsId: "MLS100005",
  },
  {
    address: "2345 Colorado Blvd",
    city: "Denver",
    state: "CO",
    zip: "80207",
    price: "$625,000",
    beds: 3,
    baths: 2,
    sqft: 1750,
    status: "Active",
    mlsId: "MLS100006",
  },
  {
    address: "6789 Evans Ave",
    city: "Denver",
    state: "CO",
    zip: "80222",
    price: "$475,000",
    beds: 2,
    baths: 1,
    sqft: 1100,
    status: "Active",
    mlsId: "MLS100007",
  },
  {
    address: "1122 Hampden Ave",
    city: "Denver",
    state: "CO",
    zip: "80231",
    price: "$825,000",
    beds: 4,
    baths: 3,
    sqft: 2600,
    status: "Active",
    mlsId: "MLS100008",
  },
  {
    address: "3344 Mississippi Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$575,000",
    beds: 3,
    baths: 2,
    sqft: 1650,
    status: "Pending",
    mlsId: "MLS100009",
  },
  {
    address: "5566 Yale Ave",
    city: "Denver",
    state: "CO",
    zip: "80204",
    price: "$695,000",
    beds: 3,
    baths: 2,
    sqft: 1900,
    status: "Active",
    mlsId: "MLS100010",
  },
  {
    address: "7788 Iliff Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$525,000",
    beds: 2,
    baths: 2,
    sqft: 1350,
    status: "Active",
    mlsId: "MLS100011",
  },
  {
    address: "9900 Parker Rd",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$775,000",
    beds: 4,
    baths: 3,
    sqft: 2400,
    status: "Active",
    mlsId: "MLS100012",
  },
  {
    address: "1111 Arapahoe Rd",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$925,000",
    beds: 4,
    baths: 3,
    sqft: 2900,
    status: "Active",
    mlsId: "MLS100013",
  },
  {
    address: "2222 Belleview Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$625,000",
    beds: 3,
    baths: 2,
    sqft: 1800,
    status: "Pending",
    mlsId: "MLS100014",
  },
  {
    address: "3333 Dartmouth Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$725,000",
    beds: 3,
    baths: 2,
    sqft: 2000,
    status: "Active",
    mlsId: "MLS100015",
  },
  {
    address: "4444 Evans Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$475,000",
    beds: 2,
    baths: 1,
    sqft: 1150,
    status: "Active",
    mlsId: "MLS100016",
  },
  {
    address: "5555 Florida Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$675,000",
    beds: 3,
    baths: 2,
    sqft: 1850,
    status: "Active",
    mlsId: "MLS100017",
  },
  {
    address: "6666 Girard Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$825,000",
    beds: 4,
    baths: 3,
    sqft: 2500,
    status: "Active",
    mlsId: "MLS100018",
  },
  {
    address: "7777 Holly St",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$575,000",
    beds: 3,
    baths: 2,
    sqft: 1700,
    status: "Pending",
    mlsId: "MLS100019",
  },
  {
    address: "8888 Jewell Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$725,000",
    beds: 3,
    baths: 2,
    sqft: 1950,
    status: "Active",
    mlsId: "MLS100020",
  },
  {
    address: "9999 Kentucky Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$525,000",
    beds: 2,
    baths: 2,
    sqft: 1400,
    status: "Active",
    mlsId: "MLS100021",
  },
  {
    address: "1111 Leetsdale Dr",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$875,000",
    beds: 4,
    baths: 3,
    sqft: 2700,
    status: "Active",
    mlsId: "MLS100022",
  },
  {
    address: "2222 Monaco Pkwy",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$625,000",
    beds: 3,
    baths: 2,
    sqft: 1750,
    status: "Active",
    mlsId: "MLS100023",
  },
  {
    address: "3333 Oneida St",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$475,000",
    beds: 2,
    baths: 1,
    sqft: 1200,
    status: "Pending",
    mlsId: "MLS100024",
  },
  {
    address: "4444 Quebec St",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$775,000",
    beds: 4,
    baths: 3,
    sqft: 2300,
    status: "Active",
    mlsId: "MLS100025",
  },
  {
    address: "5555 Rampart Way",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$925,000",
    beds: 4,
    baths: 3,
    sqft: 2800,
    status: "Active",
    mlsId: "MLS100026",
  },
  {
    address: "6666 Sheridan Blvd",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$675,000",
    beds: 3,
    baths: 2,
    sqft: 1900,
    status: "Active",
    mlsId: "MLS100027",
  },
  {
    address: "7777 Tamarac Dr",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$575,000",
    beds: 3,
    baths: 2,
    sqft: 1650,
    status: "Pending",
    mlsId: "MLS100028",
  },
  {
    address: "8888 Union Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$725,000",
    beds: 3,
    baths: 2,
    sqft: 2000,
    status: "Active",
    mlsId: "MLS100029",
  },
  {
    address: "9999 Wadsworth Blvd",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$825,000",
    beds: 4,
    baths: 3,
    sqft: 2400,
    status: "Active",
    mlsId: "MLS100030",
  },
  {
    address: "1111 Zuni St",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$525,000",
    beds: 2,
    baths: 2,
    sqft: 1350,
    status: "Active",
    mlsId: "MLS100031",
  },
  {
    address: "2222 1st Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$675,000",
    beds: 3,
    baths: 2,
    sqft: 1850,
    status: "Pending",
    mlsId: "MLS100032",
  },
  {
    address: "3333 2nd Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$775,000",
    beds: 4,
    baths: 3,
    sqft: 2200,
    status: "Active",
    mlsId: "MLS100033",
  },
  {
    address: "4444 3rd Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$475,000",
    beds: 2,
    baths: 1,
    sqft: 1100,
    status: "Active",
    mlsId: "MLS100034",
  },
  {
    address: "5555 4th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$625,000",
    beds: 3,
    baths: 2,
    sqft: 1700,
    status: "Active",
    mlsId: "MLS100035",
  },
  {
    address: "6666 5th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$875,000",
    beds: 4,
    baths: 3,
    sqft: 2600,
    status: "Pending",
    mlsId: "MLS100036",
  },
  {
    address: "7777 6th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$725,000",
    beds: 3,
    baths: 2,
    sqft: 1950,
    status: "Active",
    mlsId: "MLS100037",
  },
  {
    address: "8888 7th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$575,000",
    beds: 3,
    baths: 2,
    sqft: 1600,
    status: "Active",
    mlsId: "MLS100038",
  },
  {
    address: "9999 8th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$825,000",
    beds: 4,
    baths: 3,
    sqft: 2500,
    status: "Active",
    mlsId: "MLS100039",
  },
  {
    address: "1111 9th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$675,000",
    beds: 3,
    baths: 2,
    sqft: 1800,
    status: "Pending",
    mlsId: "MLS100040",
  },
  {
    address: "2222 10th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$525,000",
    beds: 2,
    baths: 2,
    sqft: 1400,
    status: "Active",
    mlsId: "MLS100041",
  },
  {
    address: "3333 11th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$775,000",
    beds: 4,
    baths: 3,
    sqft: 2300,
    status: "Active",
    mlsId: "MLS100042",
  },
  {
    address: "4444 12th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$925,000",
    beds: 4,
    baths: 3,
    sqft: 2900,
    status: "Active",
    mlsId: "MLS100043",
  },
  {
    address: "5555 13th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$625,000",
    beds: 3,
    baths: 2,
    sqft: 1750,
    status: "Pending",
    mlsId: "MLS100044",
  },
  {
    address: "6666 14th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$725,000",
    beds: 3,
    baths: 2,
    sqft: 2000,
    status: "Active",
    mlsId: "MLS100045",
  },
  {
    address: "7777 15th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$475,000",
    beds: 2,
    baths: 1,
    sqft: 1200,
    status: "Active",
    mlsId: "MLS100046",
  },
  {
    address: "8888 16th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$675,000",
    beds: 3,
    baths: 2,
    sqft: 1850,
    status: "Active",
    mlsId: "MLS100047",
  },
  {
    address: "9999 17th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$825,000",
    beds: 4,
    baths: 3,
    sqft: 2400,
    status: "Pending",
    mlsId: "MLS100048",
  },
  {
    address: "1111 18th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$575,000",
    beds: 3,
    baths: 2,
    sqft: 1650,
    status: "Active",
    mlsId: "MLS100049",
  },
  {
    address: "2222 19th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$725,000",
    beds: 3,
    baths: 2,
    sqft: 1950,
    status: "Active",
    mlsId: "MLS100050",
  },
  {
    address: "3333 20th Ave",
    city: "Denver",
    state: "CO",
    zip: "80205",
    price: "$875,000",
    beds: 4,
    baths: 3,
    sqft: 2700,
    status: "Active",
    mlsId: "MLS100051",
  },
];

export async function GET(req: NextRequest) {
  const { searchParams } = new URL(req.url);
  const address = searchParams.get('address')?.toLowerCase() || "";

  // If no address provided, return all properties
  if (!address) {
    return NextResponse.json({ results: mockMLSData });
  }

  // Simulate search by address (now checks all address fields)
  const result = mockMLSData.filter((item) =>
    `${item.address}, ${item.city}, ${item.state} ${item.zip}`.toLowerCase().includes(address)
  );

  return NextResponse.json({ results: result });
} 